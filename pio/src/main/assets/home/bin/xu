#!/data/data/com.tool.tree/files/home/bin/bash
# kakathic fake Root

export PROOT_LOADER=$HOME/libexec/proot/loader
export PROOT_LOADER_32=$HOME/libexec/proot/loader32
export PROOT_TMP_DIR="$TMP"
export PATH="$PATH"

ADGS="proot -0 -H -r $(pwd) -w / -b $TMP:/tmp"

if [ "$ISLITE" == 'true' ];then
LIST_XU="system data storage apex proc property_contexts linkerconfig/ld.config.txt"
else
LIST_XU="system data mnt root sbin sys plat_property_contexts property_contexts linkerconfig/ld.config.txt storage apex vendor proc dev"
fi

for i in $LIST_XU; do
[ -e /$i ] && ADGS+=" -b /$i"
done

exec $ADGS $BIN/env "$@"
